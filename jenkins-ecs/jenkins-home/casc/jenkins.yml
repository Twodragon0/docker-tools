plugins:
  required:
    git: 3.9.0
    warnings: 4.67
jenkins:
  systemMessage: |
    Welcome to our build server.

    This Jenkins is 100% configured and managed 'as code'.
    Config is now mostly handled by 'Jenkins Configuration as Code Plugin' (JCasC).
    JCasC config can be found in the jenkins.yaml file in the $JENKINS_HOME/casc_configs/ folder.

    some settings are still injected from init.groovy.d scripts.
  numExecutors: 0
  primaryView:
    all:
      name: "all"
  views:
  - all:
      name: "all"
  agentProtocols:
  - "CLI2-connect"
  - "JNLP4-connect"
  - "Ping"
  scmCheckoutRetryCount: 2
  mode: NORMAL
  crumbIssuer:
    standard:
      excludeClientIPFromCrumb: false
  disableRememberMe: true
  securityRealm:
    local:
      allowsSignup: false
      enableCaptcha: true
      users:
        - id: padmin
          password: ${ADMIN_PASSWORD:-passw0rd}
  slaveAgentPort: 50000
  authorizationStrategy:
    globalMatrix:
      grantedPermissions:
        - "Overall/Read:authenticated"
        - "Job/Read:authenticated"
        - "View/Read:anonymous"
        - "Overall/Administer:authenticated"
        # Agent security setup
        - "Agent/Connect:authenticated"
        - "Agent/Disconnect:authenticated"
        - "Agent/Configure:authenticated"
        - "Agent/Build:authenticated"
        - "Agent/Create:authenticated"
        - "Agent/Delete:authenticated"

tool:
  git:
    installations:
      - name: Default
        home: "git"
  maven:
    installations:
    - name: "maven"
      properties:
      - installSource:
          installers:
          - maven:
              id: "3.6.0"
  jdk:
    defaultProperties:
    - installSource:
        installers:
        - jdkInstaller:
            acceptLicense: false

security:
  remotingCLI:
    enabled: ${CLI_ENABLED:-false}